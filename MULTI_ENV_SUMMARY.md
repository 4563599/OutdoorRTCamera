# ATLI ç›¸æœºç›‘æ§ç³»ç»Ÿ - å¤šç¯å¢ƒé…ç½®å®Œæˆæ€»ç»“

## ğŸ‰ é¡¹ç›®æ”¹é€ å®Œæˆ

æ‚¨çš„ATLIç›¸æœºç›‘æ§ç³»ç»Ÿå·²ç»æˆåŠŸæ”¹é€ ä¸ºæ”¯æŒå¤šç¯å¢ƒé…ç½®çš„ç‰ˆæœ¬ï¼ç°åœ¨å¯ä»¥åœ¨Windowsç¯å¢ƒä¸‹è¿›è¡Œæµ‹è¯•ï¼Œåœ¨LinuxæœåŠ¡å™¨ä¸Šè¿›è¡Œç”Ÿäº§éƒ¨ç½²ã€‚

## âœ… å·²å®Œæˆçš„åŠŸèƒ½

### ğŸ”§ å¤šç¯å¢ƒé…ç½®ç³»ç»Ÿ
- âœ… **è‡ªåŠ¨ç¯å¢ƒæ£€æµ‹**: æ ¹æ®æ“ä½œç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©é…ç½®
- âœ… **Windowsæµ‹è¯•ç¯å¢ƒ**: `D:\pic_back\` è·¯å¾„ç”¨äºæœ¬åœ°æµ‹è¯•
- âœ… **Linuxç”Ÿäº§ç¯å¢ƒ**: `/var/ftp/` è·¯å¾„ç”¨äºæœåŠ¡å™¨éƒ¨ç½²
- âœ… **é…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†**: æ‰€æœ‰è·¯å¾„éƒ½åœ¨ `config.yaml` ä¸­é…ç½®
- âœ… **æ‰‹åŠ¨ç¯å¢ƒåˆ‡æ¢**: æ”¯æŒå¼ºåˆ¶æŒ‡å®šè¿è¡Œç¯å¢ƒ

### ğŸ“ æ–‡ä»¶æ¸…å•
```
ğŸ“¦ é¡¹ç›®æ–‡ä»¶
â”œâ”€â”€ ğŸ”§ æ ¸å¿ƒç¨‹åº
â”‚   â”œâ”€â”€ RT_Pixel_Ex.py          # ä¸»ç¨‹åºï¼ˆå·²æ”¯æŒå¤šç¯å¢ƒï¼‰
â”‚   â”œâ”€â”€ Ex_Pixel.py             # åƒç´ åæ ‡æå–æ¨¡å—
â”‚   â”œâ”€â”€ Ex_center_yuan.py       # åœ†å¿ƒæ£€æµ‹æ¨¡å—
â”‚   â”œâ”€â”€ ocr_Ex_time.py          # OCRæ¨¡å—ï¼ˆå·²æ”¯æŒå¤šç¯å¢ƒï¼‰
â”‚   â””â”€â”€ config_loader.py        # é…ç½®åŠ è½½å™¨ï¼ˆæ–°å¢ï¼‰
â”‚
â”œâ”€â”€ âš™ï¸ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.yaml             # å¤šç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆæ–°å¢ï¼‰
â”‚   â””â”€â”€ requirements.txt        # Pythonä¾èµ–åˆ—è¡¨
â”‚
â”œâ”€â”€ ğŸªŸ Windowså·¥å…·
â”‚   â”œâ”€â”€ init_windows_env.bat    # Windowsç¯å¢ƒåˆå§‹åŒ–ï¼ˆCMDç‰ˆï¼‰
â”‚   â”œâ”€â”€ init_windows_env.ps1    # Windowsç¯å¢ƒåˆå§‹åŒ–ï¼ˆPowerShellç‰ˆï¼‰
â”‚   â””â”€â”€ test_multi_env.py       # å¤šç¯å¢ƒæµ‹è¯•è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ§ Linuxå·¥å…·
â”‚   â”œâ”€â”€ deploy.sh               # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ atli_monitor.sh         # æœåŠ¡ç®¡ç†è„šæœ¬
â”‚   â””â”€â”€ check_env.py            # ç¯å¢ƒæ£€æŸ¥è„šæœ¬
â”‚
â””â”€â”€ ğŸ“– æ–‡æ¡£
    â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜ï¼ˆå·²æ›´æ–°ï¼‰
    â”œâ”€â”€ DEPLOYMENT.md           # è¯¦ç»†éƒ¨ç½²æ–‡æ¡£
    â””â”€â”€ DEPLOYMENT_CHECKLIST.md # éƒ¨ç½²æ£€æŸ¥æ¸…å•
```

## ğŸŒ ç¯å¢ƒé…ç½®è¯¦æƒ…

### Windows æµ‹è¯•ç¯å¢ƒ
```yaml
environments:
  windows:
    paths:
      base_upload_path: "D:\\pic_back\\atli_uploads"      # ç›‘æ§ç›®å½•
      base_processed_path: "D:\\pic_back\\atli_processed" # è¾“å‡ºç›®å½•
    tesseract:
      cmd_path: "C:\\Program Files\\Tesseract-OCR\\tesseract.exe"
```

**ç›®å½•ç»“æ„**:
```
D:\pic_back\
â”œâ”€â”€ atli_uploads\           # ç›¸æœºä¸Šä¼ ç›®å½•ï¼ˆç›‘æ§ï¼‰
â”‚   â”œâ”€â”€ camera1\           # ç›¸æœº1
â”‚   â””â”€â”€ camera2\           # ç›¸æœº2
â””â”€â”€ atli_processed\        # å¤„ç†ç»“æœè¾“å‡º
    â”œâ”€â”€ camera1\
    â””â”€â”€ camera2\
```

### Linux ç”Ÿäº§ç¯å¢ƒ
```yaml
environments:
  linux:
    paths:
      base_upload_path: "/var/ftp/atli_uploads"      # ç›‘æ§ç›®å½•
      base_processed_path: "/var/ftp/atli_processed" # è¾“å‡ºç›®å½•
    tesseract:
      cmd_path: "/usr/bin/tesseract"
```

**ç›®å½•ç»“æ„**:
```
/var/ftp/
â”œâ”€â”€ atli_uploads\          # ç›¸æœºä¸Šä¼ ç›®å½•ï¼ˆç›‘æ§ï¼‰
â”‚   â”œâ”€â”€ camera1\          # ç›¸æœº1
â”‚   â””â”€â”€ camera2\          # ç›¸æœº2
â””â”€â”€ atli_processed\       # å¤„ç†ç»“æœè¾“å‡º
    â”œâ”€â”€ camera1\
    â””â”€â”€ camera2\
```

## ğŸš€ ä½¿ç”¨æŒ‡å—

### ğŸªŸ åœ¨Windowsç¯å¢ƒä¸‹æµ‹è¯•

1. **åˆå§‹åŒ–ç¯å¢ƒ**
   ```powershell
   # åˆ›å»ºæµ‹è¯•ç›®å½•
   .\init_windows_env.bat
   
   # å®‰è£…ä¾èµ–
   pip install -r requirements.txt
   ```

2. **è¿è¡Œæµ‹è¯•**
   ```powershell
   # å¤šç¯å¢ƒé…ç½®æµ‹è¯•
   python test_multi_env.py
   
   # å¯åŠ¨ç›‘æ§ç³»ç»Ÿ
   python RT_Pixel_Ex.py
   ```

3. **æµ‹è¯•åŠŸèƒ½**
   ```powershell
   # ä¸Šä¼ æµ‹è¯•å›¾ç‰‡åˆ°
   # D:\pic_back\atli_uploads\camera1\20251202142000_0001.jpg
   
   # æ£€æŸ¥å¤„ç†ç»“æœ
   # D:\pic_back\atli_processed\camera1\20251202142000\
   ```

### ğŸ§ åœ¨LinuxæœåŠ¡å™¨ä¸Šéƒ¨ç½²

1. **ä¸€é”®éƒ¨ç½²**
   ```bash
   chmod +x deploy.sh
   sudo ./deploy.sh
   ```

2. **å¯åŠ¨æœåŠ¡**
   ```bash
   sudo systemctl start atli-camera-monitor
   sudo systemctl status atli-camera-monitor
   ```

3. **ç®¡ç†æœåŠ¡**
   ```bash
   # ä½¿ç”¨ç®¡ç†è„šæœ¬
   sudo /opt/atli_camera_monitor/atli_monitor.sh start|stop|restart|status|logs
   ```

## ğŸ” éªŒè¯ç³»ç»Ÿæ­£å¸¸å·¥ä½œ

### è‡ªåŠ¨ç¯å¢ƒæ£€æµ‹éªŒè¯
```bash
# è¿è¡Œé…ç½®æµ‹è¯•
python config_loader.py

# æœŸæœ›è¾“å‡ºï¼ˆWindowsï¼‰:
# æ£€æµ‹åˆ°è¿è¡Œç¯å¢ƒ: windows
# é…ç½®åŠ è½½æˆåŠŸï¼
# ä¸Šä¼ è·¯å¾„: D:\pic_back\atli_uploads
# å¤„ç†è·¯å¾„: D:\pic_back\atli_processed

# æœŸæœ›è¾“å‡ºï¼ˆLinuxï¼‰:
# æ£€æµ‹åˆ°è¿è¡Œç¯å¢ƒ: linux
# é…ç½®åŠ è½½æˆåŠŸï¼
# ä¸Šä¼ è·¯å¾„: /var/ftp/atli_uploads
# å¤„ç†è·¯å¾„: /var/ftp/atli_processed
```

### å¤šç¯å¢ƒæµ‹è¯•éªŒè¯
```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•
python test_multi_env.py

# æœŸæœ›çœ‹åˆ°æ‰€æœ‰æµ‹è¯•é€šè¿‡ âœ…
```

## ğŸ’¡ ä¸»è¦æ”¹è¿›ç‚¹

1. **ğŸŒ å¤šç¯å¢ƒæ”¯æŒ**
   - è‡ªåŠ¨æ£€æµ‹Windows/Linuxç¯å¢ƒ
   - æ ¹æ®ç¯å¢ƒè‡ªåŠ¨é€‰æ‹©é…ç½®è·¯å¾„
   - æ”¯æŒæ‰‹åŠ¨å¼ºåˆ¶æŒ‡å®šç¯å¢ƒ

2. **ğŸ“„ é…ç½®æ–‡ä»¶åŒ–**
   - æ‰€æœ‰ç¡¬ç¼–ç è·¯å¾„ç§»åŠ¨åˆ°é…ç½®æ–‡ä»¶
   - ç»Ÿä¸€ç®¡ç†Tesseractè·¯å¾„
   - æ”¯æŒå¤šç¯å¢ƒé…ç½®æ®µ

3. **ğŸ› ï¸ å·¥å…·å®Œå–„**
   - Windowsç¯å¢ƒåˆå§‹åŒ–è„šæœ¬
   - å¤šç¯å¢ƒæµ‹è¯•è„šæœ¬
   - ç¯å¢ƒæ£€æŸ¥è„šæœ¬

4. **ğŸ“– æ–‡æ¡£å®Œå–„**
   - è¯¦ç»†çš„éƒ¨ç½²æŒ‡å—
   - å¤šç¯å¢ƒé…ç½®è¯´æ˜
   - å®Œæ•´çš„æ•…éšœæ’é™¤æŒ‡å—

## ğŸ¯ ä¸‹ä¸€æ­¥ä½¿ç”¨å»ºè®®

### ç«‹å³å¯ä»¥åšçš„äº‹æƒ…ï¼š

1. **ğŸªŸ Windowsç¯å¢ƒæµ‹è¯•**
   ```powershell
   # å·²ç»å¯ä»¥ç›´æ¥æµ‹è¯•äº†ï¼
   python RT_Pixel_Ex.py
   ```

2. **ğŸ§ æœåŠ¡å™¨éƒ¨ç½²å‡†å¤‡**
   - å°†æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°è…¾è®¯äº‘CentOSæœåŠ¡å™¨
   - è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬

3. **ğŸ”§ æ ¹æ®éœ€è¦è°ƒæ•´é…ç½®**
   - ä¿®æ”¹ `config.yaml` ä¸­çš„è·¯å¾„
   - è°ƒæ•´ç›¸æœºROIåŒºåŸŸå‚æ•°
   - ä¿®æ”¹OCRæ—¶é—´æˆ³åŒºåŸŸåæ ‡

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼š

1. **è¿è¡Œç¯å¢ƒæ£€æŸ¥**: `python check_env.py`
2. **å¤šç¯å¢ƒæµ‹è¯•**: `python test_multi_env.py`
3. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**: `python RT_Pixel_Ex.py`
4. **è”ç³»å¼€å‘è€…**: 2985045154@qq.com

---

ğŸ‰ **æ­å–œï¼æ‚¨çš„ATLIç›¸æœºç›‘æ§ç³»ç»Ÿç°åœ¨å®Œå…¨æ”¯æŒå¤šç¯å¢ƒé…ç½®äº†ï¼**

- âœ… Windowsç¯å¢ƒï¼šç”¨äºå¼€å‘æµ‹è¯•
- âœ… Linuxç¯å¢ƒï¼šç”¨äºç”Ÿäº§éƒ¨ç½²
- âœ… è‡ªåŠ¨åˆ‡æ¢ï¼šæ— éœ€æ‰‹åŠ¨ä¿®æ”¹é…ç½®
- âœ… å®Œå…¨å…¼å®¹ï¼šåŸæœ‰åŠŸèƒ½å…¨éƒ¨ä¿ç•™

ç°åœ¨æ‚¨å¯ä»¥åœ¨Windowsä¸‹å®‰å¿ƒæµ‹è¯•ï¼Œç¡®è®¤æ²¡é—®é¢˜åå†éƒ¨ç½²åˆ°LinuxæœåŠ¡å™¨ä¸Šï¼
